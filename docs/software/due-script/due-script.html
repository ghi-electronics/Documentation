<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>DUE Script </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="DUE Script ">
    
      <link rel="shortcut icon" href="../../images/favicon.ico">
      <link rel="stylesheet" href="../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../styles/docfx.css">
      <link rel="stylesheet" href="../../styles/main.css">
      <meta property="docfx:navrel" content="../../toc.html">
      <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    <meta property="docfx:newtab" content="true">
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../images/logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="due-script">DUE Script</h1>

<hr>
<p>The DUE Link platform includes a scripting language called DUE Script it runs internally on any <a href="../../hardware/intro.html">DUE-enabled hardware</a>. This allows the device to run standalone independent from any host. This very easy-to-learn scripting language is inspired by BASIC and Python, giving the user the simplicity and flexibility they need.</p>
<p>The on-line <a href="../console.html">DUE Console</a> lets developers start experimenting with DUE Script and the physical world in minutes...no installation is necessary!</p>
<h2 id="operating-modes">Operating Modes</h2>
<p>DUE Script has two modes <em>Immediate mode</em> and <em>Record mode</em>. <em>Immediate mode</em> commands are executed immediately. <em>Immediate mode</em> commands are a single line of code. <em>Record mode</em> commands are stored in flash and then can be executed. The <a href="../console.html">DUE Console</a> handles these modes automatically. The following details are only needed when not using DUE Console, like when using a terminal software like TeraTerm.</p>
<p><strong>Immediate Mode</strong></p>
<p>The <code>&gt;</code> command is used to switch the system to immediate mode. This in turn will change the prompt to <code>&gt;</code> as well. All statements are executed as soon as entered.</p>
<pre><code class="lang-basic">&gt; Print(&quot;Hello World&quot;)
</code></pre>
<p><img src="../images/teraterm.png" alt="TeraTerm"></p>
<div class="NOTE">
<h5>Note</h5>
<p>Immediate Mode is the default mode when device is first connected.</p>
</div>
<p><strong>Record Mode</strong>
The <em>Record mode</em>, is entered using the <code>$</code> command. This will also modify the prompt to <code>$</code>. All statements entered are stored internally and not executed. The <code>run</code> command can be used to execute the program. The device will also automatically <code>run</code> a program on power up.</p>
<p><img src="../images/teraterm-record.png" alt="TeraTerm"></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Statement</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">$</td>
<td style="text-align: left;">Sets the device in record mode</td>
</tr>
<tr>
<td style="text-align: left;">&gt;</td>
<td style="text-align: left;">Exits record mode and returns to direct mode</td>
</tr>
</tbody>
</table>
<p>The following statements control the program recorded in flash, but can be used in both <em>Immediate or Record modes</em>. When used in <em>Record mode</em> these special statements execute, but are not added to the program in flash.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Statement</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Run</td>
<td style="text-align: left;">Executes the program stored in flash</td>
</tr>
<tr>
<td style="text-align: left;">New</td>
<td style="text-align: left;">Erases the program stored in flash</td>
</tr>
<tr>
<td style="text-align: left;">List</td>
<td style="text-align: left;">Returns all the code in your program</td>
</tr>
</tbody>
</table>
<div class="TIP">
<h5>Tip</h5>
<p>A running program can be terminated by hitting the ESC key, DEL Key, or Backspace Key.</p>
</div>
<pre><code class="lang-basic">&gt; $
$ PrintLn (x)
$ PrintLn (y)
$ &gt;
&gt; x=1:y=2
&gt; Run
1
2
&gt;List
PrintLn(x)
PrintLn(y)
&gt;new
</code></pre>
<div class="NOTE">
<h5>Note</h5>
<p>The <a href="../console.html">DUE Console</a> hides the prompts and automatically switches to the appropriate mode.</p>
</div>
<hr>
<h2 id="script-features">Script Features</h2>
<p>DUE Scripts are not case sensitive. Its syntax is very simple and inspired by BASIC coding language. The power of DUE Scripts comes from its simplicity rather than from its feature set. This is a perfect language to teach someone coding.</p>
<p>Users that require serious coding should be using the DUE Platform combined with one of the many available coding languages. Still, DUE Scripts can be used to extend those languages, as detailed below.</p>
<h3 id="print">Print</h3>
<p><code>Print()</code> is a function that returns the value of its arguments. These arguments can be variables, strings, or equations. <code>Print()</code> is also unique because it can handle multiple arguments.</p>
<pre><code class="lang-basic">x=100
Print(x)
Print(&quot;Hello World&quot;)
Print(x+x)
Print(x,&quot;Hello World&quot;, x+x)
</code></pre>
<p>Result:</p>
<pre><code>100Hello World200100Hello World 200
</code></pre>
<p><code>PrintLn()</code> adds a line break to each print statement.</p>
<pre><code class="lang-basic">x=100
PrintLn(x)
PrintLn(&quot;Hello World&quot;)
PrintLn(x+x)
PrintLn(x,&quot;Hello World&quot;, x+x)
</code></pre>
<p>Result:</p>
<pre><code>100
Hello World
200
100Hello World200
</code></pre>
<h3 id="comments">Comments</h3>
<p>The <code>#</code> character is used to identify a comment. Comments are ignored by the program, text added to help developers understand the code.</p>
<pre><code class="lang-basic"># This is a comment
x=10
Print(x) # This is also a comment 
</code></pre>
<h3 id="variables">Variables</h3>
<p>DUE Script has a fixed set of 26 variables, one for each letter, assigned to <code>a</code> to <code>z</code>. The only data type used in DUE is float. All variables created are global in nature. To use a variable, simply use <code>x=5.5</code></p>
<h3 id="operands">Operands</h3>
<p>DUE Script supports the following operators.</p>
<table>
<thead>
<tr>
<th><strong>Mathematical</strong></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>Add</td>
</tr>
<tr>
<td>-</td>
<td>Subtract</td>
</tr>
<tr>
<td>*</td>
<td>Multiply</td>
</tr>
<tr>
<td>/</td>
<td>Divide</td>
</tr>
<tr>
<td>%</td>
<td>Modulus, the remainder</td>
</tr>
<tr>
<td><strong>Comparators</strong></td>
<td></td>
</tr>
<tr>
<td>&gt;</td>
<td>Greater Than</td>
</tr>
<tr>
<td>&lt;</td>
<td>Less Than</td>
</tr>
<tr>
<td>&gt;=</td>
<td>Greater Than or Equal To</td>
</tr>
<tr>
<td>&lt;=</td>
<td>Less Than or Equal To</td>
</tr>
<tr>
<td>=</td>
<td>Equal</td>
</tr>
<tr>
<td>!=</td>
<td>Not Equal</td>
</tr>
<tr>
<td><strong>Logical</strong></td>
<td></td>
</tr>
<tr>
<td>&amp;&amp;</td>
<td>And</td>
</tr>
<tr>
<td>||</td>
<td>Or</td>
</tr>
<tr>
<td><strong>Bitwise</strong></td>
<td></td>
</tr>
<tr>
<td>&amp;</td>
<td>Bitwise And</td>
</tr>
<tr>
<td>|</td>
<td>Bitwise Or</td>
</tr>
<tr>
<td>&lt;&lt;</td>
<td>Shift Right</td>
</tr>
<tr>
<td>&gt;&gt;</td>
<td>Shift Left</td>
</tr>
</tbody>
</table>
<h3 id="arrays">Arrays</h3>
<p>Similarly to variables, arrays are fixed to 26 arrays. They are assigned to letters <code>a</code> to <code>z</code>. DUE Script differentiates between variable <code>a</code> and array <code>a[]</code> when square brackets are used. Arrays are size zero by default and can be sized, or resized using <code>Dim</code>.</p>
<p>This is an example that uses both, variables and arrays:</p>
<pre><code class="lang-basic">Dim a[10]
For i=0 to 9:a[i]=i*2:Next
For i=0 to 9:PrintLn(a[i]):Next
</code></pre>
<p>The output will look like:</p>
<pre><code>0
2
4
6
8
10
12
14
16
18
</code></pre>
<div class="TIP">
<h5>Tip</h5>
<p>Use <code>Dim a[0]</code> to free up the memory reserved for array <code>a[]</code>.</p>
</div>
<h3 id="for-loop">For-Loop</h3>
<p>The For-Loop has two different syntax styles. <strong>BASIC</strong> and <strong>Python</strong> style.</p>
<p><strong>BASIC Style</strong></p>
<p>The BASIC style For-Loop includes the last number in the range.</p>
<pre><code class="lang-basic"># Counting Up
For i=1 to 5
Print(i,&quot;,&quot;)
Next
</code></pre>
<p>Output:</p>
<p><code>0,1,2,3,4,5,</code></p>
<pre><code class="lang-basic"># Counting Up in increments of 10
For i=1000 to 1 Step 10
PrintLn(i)
Next

# Counting Down in increments of 10
For i=1000 to 1 Step -10
PrintLn(i)
Next
</code></pre>
<p><strong>Python Style</strong></p>
<p>DUE Script also allows For Loops written similar to Python. The last number of the range is not included in output.</p>
<pre><code class="lang-basic"># Range with only stop value
For i in range(5)
Print(i,&quot;,&quot;)
next
</code></pre>
<p>Output:</p>
<p><code>0,1,2,3,4,</code></p>
<pre><code class="lang-basic"># Range with start and stop value
For i in range(1,5)
Print(i,&quot;,&quot;)
next

# Range with start, stop, and step value
For i in range(1,5,2)
Print(i,&quot;,&quot;)
next

# Range with start, stop, and negative step value
For i in range(10,1,-2)
Print(i,&quot;,&quot;)
next
</code></pre>
<h3 id="if-statement">If-Statement</h3>
<p>If-Statements must end with the <code>End</code> command. This will only end the If-Statement and not your program.</p>
<pre><code class="lang-basic">If x=1
PrintLn(&quot;one&quot;)
Else 
PrintLn(&quot;not one&quot;)
End
</code></pre>
<p>If-Statements can also be nested within each other. Each If-Statement requires an <code>End</code> command to terminate its own process.</p>
<pre><code class="lang-basic">If x=1
  PrintLn(&quot;one&quot;)
Else
  If x =2
    PrintLn(&quot;two&quot;)
  Else
  PrintLn(&quot;not one or two&quot;)
  End
End
</code></pre>
<h3 id="labels">Labels</h3>
<p>Labels are needed to redirect the program. They are used by <code>Goto</code> and when calling a subroutine.</p>
<p>A Label is created by using the <code>@</code> symbol in front of the desired label. Labels are limited to 6 characters.</p>
<h3 id="goto">Goto</h3>
<p><code>Goto</code> is useful for repeating tasks indefinitely by sending to a specific <em>Label</em> name.</p>
<pre><code class="lang-basic">@Loop
# add code here that runs forever
Goto Loop 
</code></pre>
<h3 id="exit--return">Exit &amp; Return</h3>
<p><code>Exit</code> terminates the program.</p>
<pre><code class="lang-basic">Print(&quot;Hello&quot;)
Exit
Print(&quot;This will not get printed&quot;)
</code></pre>
<p><code>Return</code> send the execution back from a called subroutine, see Subroutines below.</p>
<h3 id="subroutine">Subroutine</h3>
<p>Developers can use Labels to create their own subroutines to implement &quot;soft&quot; like functions in their code. These subroutines are similar to functions but do not take variables or return values.</p>
<div class="TIP">
<h5>Tip</h5>
<p>The built-in API offers true functions and therefore do take arguments and return values.</p>
</div>
<p>User subroutines are always added in recoding mode and resides in nonvolatile memory. A user subroutine starts with a label and ends with a <code>Return</code>.</p>
<pre><code class="lang-basic">@Mine
# add code here
Return
</code></pre>
<p>The subroutine can then be called by its name followed by <code>()</code>.</p>
<pre><code class="lang-basic">Mine()
</code></pre>
<p>Note how a subroutine can be called externally from <em>Immediate Mode</em>. This allows for extending DUE Scripts with new commands that can then later be called from <em>Immediate Mode</em> and in turn be called from a high level language, like Python, when connected to a Host.</p>
<div class="TIP">
<h5>Tip</h5>
<p>DUE variables are global and any changes inside subroutines will affect variable values outside those subroutines.</p>
</div>
<hr>
<h2 id="combining-commands">Combining Commands</h2>
<p>Multiple commands can be combined on a single line. This is especially useful when using <em>Immediate mode</em> where a single line is required. To use multiple command, a <code>:</code> symbol is used.</p>
<p>This is an example of a for loop in a single line</p>
<pre><code class="lang-basic">For i=1 to 1000 Step 10:PrintLn(i):Next
</code></pre>
<h2 id="good-practices">Good Practices</h2>
<p>Recorded DUE Scripts are executed immediately on power up (the run command is issued internally). If the user doesn't want any of the code to run, they can start the program with an <code>Exit</code> statement. And then the 'Exit' can be flowed by a label, for example '@Go'.</p>
<p>This code can be saved to the device using Record Mode:</p>
<pre><code class="lang-basic">Exit
@Go
Print(&quot;Only when Go!&quot;)
</code></pre>
<p>The program will not execute on power up due to the <code>Exit</code> command. But now calling <code>Go()</code> in immediate mode will produce &quot;Only when Go!&quot;.</p>
<p>Another good practice is to use the on-board LED as an activity LED to show that the device is running. Simply start your program by adding <code>Led(200,200,-1)</code>.</p>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/ghi-electronics/duelink-website/blob/dev/software/due-script/due-script.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      <span>Copyright © 2023 GHI Electronics, LLC<br>Generated by DocFX</span>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
