<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>LCD </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="LCD ">
    
      <link rel="shortcut icon" href="../../../images/favicon.ico">
      <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
      <link rel="stylesheet" href="../../../styles/docfx.css">
      <link rel="stylesheet" href="../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../toc.html">
      <meta property="docfx:tocrel" content="../../toc.html">
    
    <meta property="docfx:rel" content="../../../">
    <meta property="docfx:newtab" content="true">
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../images/logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h2 id="lcd">LCD</h2>

<p>These functions allow for simple graphics on the very common I2C displays that use the SSD1306 controller and have 128x64 pixels. This display is found on the BrainPad Pulse by default, and can be added to the I2C channel on all of the other boards. These displays are available in multiple sizes but most common is 0.96&quot;.</p>
<p><img src="images/ssd1306.png" alt="SSD1306"></p>
<div class="TIP">
<h5>Tip</h5>
<p>We have tested 2.42&quot; displays that use SSD1309 and seemed to work perfectly.</p>
</div>
<p><img src="images/ssd1309.png" alt="SSD1309"></p>
<div class="CAUTION">
<h5>Caution</h5>
<p>Displays with knock-off controller SSH1106 that is supposed to be compatible with SSD1306 did not work as expected.</p>
</div>
<ul>
<li><strong>LcdConfig(output,address)</strong> Pipes the graphics to a connected display. <br>
By default, all graphics is directed to the display found on BrainPad Pulse. However, making a call to <code>LcdConfig()</code> directs the system to send all graphics to an external display, at the provided <code>address</code>. Setting the address to <code>0</code> resets the configuration to the default BrainPad Pulse LCD<br>
<strong>output:</strong> Output to display , 0 = none, 1 = console, 2 = LCD &amp; console <br>
<strong>address:</strong> I2C address, 0 = default(BrainPad Pulse)</li>
</ul>
<div class="TIP">
<h5>Tip</h5>
<p>This function is not needed to use the display found on BrainPad Pulse.</p>
</div>
<p>This example will pipe (direct) graphics to an external 2.42&quot; display with address 0x3C, wired to the 2.42&quot; SSD1309 display showing in the image above. Tip: A resistor on the back of the display needs to be moved to change its bus from SPI to I2C.</p>
<pre><code class="lang-basic">LcdConfig(0, 0x3C)
LcdClear(0)
LcdText(&quot;Hello World&quot;,1,10,10)
LcdShow()
</code></pre>
<ul>
<li><p><strong>LcdShow()</strong> Sends the display buffer to the LCD.</p>
</li>
<li><p><strong>LcdClear(color)</strong>  Clears the entire screen to black or white<br>
<strong>color:</strong> 0 = black, 1 = white</p>
</li>
</ul>
<pre><code class="lang-basic">LcdClear(0)
LcdShow()
</code></pre>
<p><strong>Draw Line</strong></p>
<ul>
<li><strong>LcdLine(color, x1,y1,x2,y2)</strong> <br>
<strong>color:</strong> 0 = black, 1 = white <br>
<strong>x1:</strong> Starting x point <br>
<strong>y1:</strong> Starting y point <br>
<strong>x2:</strong> Ending x point <br>
<strong>y2:</strong> Ending y point</li>
</ul>
<pre><code class="lang-basic">LcdClear(0)
LcdLine(1,0,0,128,64)
LcdShow()
</code></pre>
<p><strong>Set Pixel</strong></p>
<ul>
<li><strong>LcdPixel(color, x, y)</strong> <br>
<strong>color:</strong> 0 = black, 1 = white <br>
<strong>x:</strong> x pixel value<br>
<strong>y:</strong> y pixel value</li>
</ul>
<pre><code class="lang-basic">LcdClear(0)
LcdPixel(1,64,32)
LcdShow()
</code></pre>
<p><strong>Draw Circle</strong></p>
<ul>
<li><strong>LcdCircle(color, x,y,radius)</strong> <br>
<strong>color:</strong> 0 = black, 1 = white <br>
<strong>x:</strong> x position of circle's center <br>
<strong>y:</strong> y position of circle's center <br>
<strong>radius:</strong> radius of the circle</li>
</ul>
<pre><code class="lang-basic">LcdClear(0)
LcdCircle(1,64,32,31)
LcdShow()
</code></pre>
<p><strong>Draw Rectangle</strong></p>
<ul>
<li><strong>LcdRect(color, x, y, width, height)</strong> <br>
<strong>color:</strong> 0 = black, 1 = white <br>
<strong>x:</strong> Starting x point <br>
<strong>y:</strong> Starting y point <br>
<strong>width:</strong> Rectangle width <br>
<strong>height:</strong> Rectangle height</li>
</ul>
<pre><code class="lang-basic">LcdClear(0)
LcdRect(1,10,10,118,54)
LcdShow()
</code></pre>
<p><strong>Draw Filled Rectangle</strong></p>
<ul>
<li><strong>LcdFill(color, x, y, width, height)</strong> <br>
<strong>color:</strong> 0 = black, 1 = white <br>
<strong>x:</strong> Starting x point <br>
<strong>y:</strong> Starting y point <br>
<strong>width:</strong> Rectangle width <br>
<strong>height:</strong> Rectangle height</li>
</ul>
<pre><code class="lang-basic">LcdClear(0)
LcdFill(1,10,10,118,54)
LcdShow()
</code></pre>
<p><strong>Draw Text</strong></p>
<ul>
<li><strong>LcdText(&quot;text&quot;, color, x, y)</strong> <br>
<strong>text:</strong> String message in double quotes. <br>
<strong>Str():</strong> is used to convert variables to strings <br>
<strong>color:</strong> 0 = black, 1 = white <br>
<strong>x:</strong> x position <br>
<strong>y:</strong> x position <br></li>
</ul>
<pre><code class="lang-basic">LcdClear(0)
LcdText(&quot;Hello World&quot;,1,10,10)
LcdShow()
x=100
LcdClear(0)
LcdText(str(x),1,0,0)
LcdShow
</code></pre>
<p><strong>Draw Scaled Text</strong></p>
<p>Works exactly the same as <strong>LcdText()</strong> but adds scaling.</p>
<ul>
<li><strong>LcdTextS(&quot;text&quot;, color, x, y, scaleWidth, scaleHeight)</strong> <br>
<strong>text:</strong> String message in double quotes. <br>
<strong>Str():</strong> is used to convert variables to strings <br>
<strong>color:</strong> 0 = black, 1 = white <br>
<strong>x:</strong> x position <br>
<strong>y:</strong> x position <br>
<strong>scaleWidth:</strong> Width scale multiplier <br>
<strong>scaleHeight:</strong> Height scale multiplier</li>
</ul>
<pre><code class="lang-basic">LcdClear(0)
LcdTextS(&quot;Hello&quot;,1,0,0,2,2)
LcdShow()
Wait(1000)
x=100
LcdClear(0)
LcdTextS(Str(x),1,0,0,2,2)
LcdShow()
</code></pre>
<div class="TIP">
<h5>Tip</h5>
<p>Scale is multiplier for the pixel in width and height to make the font larger
()</p>
</div>
<p><strong>Draw Image</strong></p>
<ul>
<li><strong>LcdImg(array,x, y, transform)</strong><br>
<strong>array:</strong> Image array (see below). <br>
<strong>x:</strong> x position on screen. <br>
<strong>y:</strong> y position on screen. <br>
<strong>transform:</strong> transform modifier. <br></li>
</ul>
<p>There are cases where images need to be added to the screen. Of course, we are taking about basic simple images, more like a tiny sprite in a game.</p>
<p>The image is an array of pixels. This arrays must start with 2 elements that contain the image's width and height. We will place the array on multi line to help us visualize what the image might look like, but placing everything on a single line has the same effect</p>
<p>Image Array formatting:</p>
<pre><code class="lang-basic">Dim a[2+(8*8)] = [8,8,
0, 0, 0, 1, 1, 0, 0, 0,
0, 0, 1, 1, 1, 1, 0, 0,
0, 1, 1, 1, 1, 1, 1, 0,
1, 1, 0, 1, 1, 0, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1,
0, 0, 1, 0, 0, 1, 0, 0,
0, 1, 0, 1, 1, 0, 1, 0,
1, 0, 1, 0, 0, 1, 0, 1]
</code></pre>
<p>The following example displays the image array on the screen.</p>
<pre><code class="lang-basic">Dim a[2+(8*8)] = [8,8,
0, 0, 0, 1, 1, 0, 0, 0,
0, 0, 1, 1, 1, 1, 0, 0,
0, 1, 1, 1, 1, 1, 1, 0,
1, 1, 0, 1, 1, 0, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1,
0, 0, 1, 0, 0, 1, 0, 0,
0, 1, 0, 1, 1, 0, 1, 0,
1, 0, 1, 0, 0, 1, 0, 1]
LcdClear(0)
LcdImgS(a,60,30,2,2,0)
LcdShow()
</code></pre>
<p>Transformation modifiers:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Value</th>
<th style="text-align: left;">Transformation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">0</td>
<td style="text-align: left;">No transform</td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Flip image horizontally</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td style="text-align: left;">Flip image vertically</td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td style="text-align: left;">Rotate image 90 degrees</td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td style="text-align: left;">Rotate image 180 degrees</td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td style="text-align: left;">Rotate the image 270 degrees(same as -90 degrees)</td>
</tr>
</tbody>
</table>
<p><strong>Draw Scaled Image</strong></p>
<p>Works the same as LcdImg but adds scaling.</p>
<ul>
<li><strong>LcdImgS(array,x, y, transform,scaleWidth,scaleHeight)</strong><br>
<strong>array:</strong> Image array (see below). <br>
<strong>x:</strong> x position on screen. <br>
<strong>y:</strong> y position on screen. <br>
<strong>transform:</strong> transform modifier. (see above)<br>
<strong>scaleWidth:</strong> Width scale multiplier <br>
<strong>scaleHeight:</strong> Height scale multiplier</li>
</ul>
<p><strong>LCD Stream</strong></p>
<p>Stream is used to send the entire LCD update.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Streams are not coded directly using DUE Script, see <a href="../streams.html">Streams</a></p>
</div>
<ul>
<li><strong>LcdStream()</strong><br>
<strong>Stream Size:</strong> The size screen size divided by 8, 128x64/8=1K.
The data is organized as 8bit columns going left to right and then wrapping around to the next row.</li>
</ul>
<p>Example code to set a pixel at 10x10</p>
<pre><code class="lang-cs">int x=10;
int y=10;

buffer[(y &gt;&gt; 3) * 128 + x] |= (byte)(1 &lt;&lt; (y &amp; 7));
</code></pre>
<div class="NOTE">
<h5>Note</h5>
<p>LCD Stream automatically calls <code>LcdShow()</code> internally.</p>
</div>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/ghi-electronics/duelink-website/blob/dev/software/due-script/corelib/lcd.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      <span>Copyright © 2023 GHI Electronics, LLC<br>Generated by DocFX</span>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
