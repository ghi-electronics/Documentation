<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Javascript </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Javascript ">
    
      <link rel="shortcut icon" href="../../images/favicon.ico">
      <link rel="stylesheet" href="../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../styles/docfx.css">
      <link rel="stylesheet" href="../../styles/main.css">
      <meta property="docfx:navrel" content="../../toc.html">
      <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    <meta property="docfx:newtab" content="true">
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../images/logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="javascript">Javascript</h1>

<hr>
<p><img src="https://cdn-icons-png.flaticon.com/512/5968/5968292.png" alt="Javascript"></p>
<p>The Javascript DUE library allows for the use of full standard Javascript to access physical-computing.</p>
<h2 id="setup"><a href="#setup"></a>Setup</h2>
<p>This page assumes the user is already familiar with Javascript and there is a development machine that is already setup to build and run Javascript programs. No changes are needed there but we are using Microsoft Visual Studio Code as a personal preference.</p>
<h5 id="hello-world">Hello World</h5>
<p>Just clone this repo, and open duelink.html with your fav browser for the sample app using DUE JS Library</p>
<h5 id="tip">Tip</h5>
<p>If this is the first time you use your device, start by visiting the <a href="https://duelink.com/hardware/intro.html">Hardware</a> page and load your device with the appropriate firmware. The <a href="https://duelink.com/software/console.html">Console</a> is also a great place to start.</p>
<p>Start a new project with a simple line of code to test out the project is running</p>
<pre><code>print(&quot;Hello DUE!&quot;)
</code></pre>
<p>We now need to copy the DUE Javascript library <a href="https://github.com/Gravicode/due-javascript/">JS LIB</a>, check duelink.js, it contains driver for DUE. The library is also available on the <a href="https://duelink.com/software/downloads.html">downloads</a> page if needed.</p>
<h5 id="tip-1">Tip</h5>
<p>The DUE Javascript library requires serial port access.</p>
<h2 id="blinky"><a href="#blinky"></a>Blinky!</h2>
<p>Our first program will blink the on-board LED 20 times, where it comes on for 200ms and then it is off for 800ms.</p>
<h5 id="note">Note</h5>
<p>Init device and choose com port with this method</p>
<pre><code>this.comPort = new SerialInterface();
comPort.Connect();
</code></pre>
<p>init the driver and blink an led.</p>
<pre><code>if (!this.dev)
        this.dev = new DUELinkController(this.comPort);
# Flash the LED 20 times (on for 200ms and off for 800ms)
dev.Led.Set(200,800,20);
console.log(&quot;Bye DUE!&quot;);
</code></pre>
<h2 id="javascript-api"><a href="#Javascript-api"></a>Javascript API</h2>
<p>The provided API mirrors DUE Script's <a href="https://duelink.com/software/due-script/corelib/corelib.html"><strong>Core library</strong></a>. Referencing those APIs is a good place to learn about the available functionality and available arguments.</p>
<p>Javascript API</p>
<p>DUE Script Equivalent</p>
<p>Description</p>
<p>Analog.Read()</p>
<p><a href="https://duelink.com/software/due-script/corelib/analog.html">ARead()</a></p>
<p>Reads analog pin</p>
<p>Analog.Write()</p>
<p><a href="https://duelink.com/software/due-script/corelib/analog.html">AWrite()</a></p>
<p>Reads analog pin</p>
<p>Button.Enable()</p>
<p><a href="https://duelink.com/software/due-script/corelib/button.html">BtnEnable()</a></p>
<p>Sets up a button to be used</p>
<p>Button.WasPressed()</p>
<p><a href="https://duelink.com/software/due-script/corelib/button.html">BtnDown()</a></p>
<p>Detects if button is was pressed</p>
<p>Button.IsReleased()</p>
<p><a href="https://duelink.com/software/due-script/corelib/button.html">BtnDown()</a></p>
<p>Detects if button is released</p>
<p>DeviceConfig.IsEdge()</p>
<p><a href="https://duelink.com/software/due-script/corelib/systemfunctions.html">Version()</a></p>
<p>Checks for specific hardware</p>
<p>DeviceConfig.IsFlea()</p>
<p><a href="https://duelink.com/software/due-script/corelib/systemfunctions.html">Version()</a></p>
<p>Checks for specific hardware</p>
<p>DeviceConfig.IsPico()</p>
<p><a href="https://duelink.com/software/due-script/corelib/systemfunctions.html">Version()</a></p>
<p>Checks for specific hardware</p>
<p>DeviceConfig.IsPulse()</p>
<p><a href="https://duelink.com/software/due-script/corelib/systemfunctions.html">Version()</a></p>
<p>Checks for specific hardware</p>
<p>DeviceConfig.MaxPinIO()</p>
<p>NA</p>
<p>Returns # available GPIOs</p>
<p>DeviceConfig.MaxPinAnalog()</p>
<p>NA</p>
<p>Returns # available Analog pins</p>
<p>Digital.Read()</p>
<p><a href="https://duelink.com/software/due-script/corelib/digital.html">DRead()</a></p>
<p>Reads digital pin</p>
<p>Digital.Write()</p>
<p><a href="https://duelink.com/software/due-script/corelib/digital.html">DWrite()</a></p>
<p>Writes to digital pin</p>
<p>Display.Clear()</p>
<p><a href="https://duelink.com/software/due-script/corelib/lcd.html">LcdClear()</a></p>
<p>Clears the display black or white</p>
<p>Display.CreateImage()</p>
<p><a href="https://duelink.com/software/due-script/corelib/lcd.html">LcdConfig()</a></p>
<p>Set display configuration</p>
<p>Display.Configuration()</p>
<p><a href="https://duelink.com/software/due-script/corelib/lcd.html">LcdConfig()</a></p>
<p>Set display configuration</p>
<p>Display.DrawBuffer()</p>
<p><a href="https://duelink.com/software/due-script/corelib/lcd.html">LcdStream()</a></p>
<p>Updates the entire display, using stream, with automatic Show()</p>
<p>Display.DrawBufferBytes()</p>
<p><a href="https://duelink.com/software/due-script/corelib/lcd.html">LcdStream()</a></p>
<p>Updates the entire display, using stream, with automatic Show()</p>
<p>Display.DrawCircle()</p>
<p><a href="https://duelink.com/software/due-script/corelib/lcd.html">LcdCircle()</a></p>
<p>Draws a circle on the display</p>
<p>Display.DrawFillRect()</p>
<p><a href="https://duelink.com/software/due-script/corelib/lcd.html">LcdFill()</a></p>
<p>Draws a filled rectangle on the display</p>
<p>Display.DrawImage()</p>
<p><a href="https://duelink.com/software/due-script/corelib/lcd.html">LcdImg()</a></p>
<p>Draws an image using an array</p>
<p>Display.DrawImageBytes()</p>
<p><a href="https://duelink.com/software/due-script/corelib/lcd.html">LcdImg()</a></p>
<p>Draws an image using bytes</p>
<p>Display.DrawImageScale()</p>
<p><a href="https://duelink.com/software/due-script/corelib/lcd.html">LcdImg()</a></p>
<p>Works same as DrawImage() adds scaling</p>
<p>Display.DrawLine()</p>
<p><a href="https://duelink.com/software/due-script/corelib/lcd.html">LcdLine()</a></p>
<p>Draws a line on the display</p>
<p>Display.DrawRectangle()</p>
<p><a href="https://duelink.com/software/due-script/corelib/lcd.html">LcdRect()</a></p>
<p>Draws a rectangle on the display</p>
<p>Display.DrawText()</p>
<p><a href="https://duelink.com/software/due-script/corelib/lcd.html">LcdText()</a></p>
<p>Draws a text on the display</p>
<p>Display.DrawTextScale()</p>
<p><a href="https://duelink.com/software/due-script/corelib/lcd.html">LcdTextS()</a></p>
<p>Draws scaled text on the display</p>
<p>Display.SetPixel()</p>
<p><a href="https://duelink.com/software/due-script/corelib/lcd.html">LcdPixel()</a></p>
<p>Draws pixel on the display</p>
<p>Display.Show()</p>
<p><a href="https://duelink.com/software/due-script/corelib/lcd.html">LcdShow()</a></p>
<p>Sends the display buffer</p>
<p>Distance.Read()</p>
<p><a href="https://duelink.com/software/due-script/corelib/distance.html">Distance()</a></p>
<p>Used to read distance sensors</p>
<p>Frequency.Write()</p>
<p><a href="https://duelink.com/software/due-script/corelib/frequency.html">Freq()</a></p>
<p>Hardware generated PWM signal</p>
<p>I2c.Write()</p>
<p><a href="https://duelink.com/software/due-script/corelib/i2c.html">I2cStream()</a></p>
<p>I2C write, using stream</p>
<p>I2c.Read()</p>
<p><a href="https://duelink.com/software/due-script/corelib/i2c.html">I2cStream()</a></p>
<p>I2C read, using stream</p>
<p>I2c.WriteRead()</p>
<p><a href="https://duelink.com/software/due-script/corelib/i2c.html">I2cStream()</a></p>
<p>I2C write/read, using stream</p>
<p>Infrared.Enable()</p>
<p><a href="https://duelink.com/software/due-script/corelib/infrared.html">IrEnable()</a></p>
<p>Enables pin for IR signal capture</p>
<p>Infrared.Read()</p>
<p><a href="https://duelink.com/software/due-script/corelib/infrared.html">IrRead()</a></p>
<p>Reads value from IR enabled pin</p>
<p>Led.Set()</p>
<p><a href="https://duelink.com/software/due-script/corelib/led.html">LED()</a></p>
<p>Controls the on-board LED</p>
<p>Neo.Clear()</p>
<p><a href="https://duelink.com/software/due-script/corelib/neopixel.html">NeoClear()</a></p>
<p>Clears all LED's in memory</p>
<p>Neo.SetColor()</p>
<p><a href="https://duelink.com/software/due-script/corelib/neopixel.html">NeoSet()</a></p>
<p>Set's a specific LED to a color</p>
<p>Neo.Show()</p>
<p><a href="https://duelink.com/software/due-script/corelib/neopixel.html">NeoShow()</a></p>
<p>Transfers the internal pattern to LEDs</p>
<p>Neo.SetMultiple()</p>
<p><a href="https://duelink.com/software/due-script/corelib/neopixel.html">NeoStream()</a></p>
<p>Updates all LEDs, using streams, with automatic <code>Show()</code></p>
<p>Led.Set()</p>
<p><a href="https://duelink.com/software/due-script/corelib/led.html">LED()</a></p>
<p>Controls the on-board LED</p>
<p>ServoMoto.Set()</p>
<p><a href="https://duelink.com/software/due-script/corelib/servo.html">ServoSet()</a></p>
<p>Sets servo motor connected to a pin</p>
<p>Sound.Play()</p>
<p><a href="https://duelink.com/software/due-script/corelib/sound.html">Sound()</a></p>
<p>Sets buzzer sound on supported hardware</p>
<p>Sound.Stop()</p>
<p><a href="https://duelink.com/software/due-script/corelib/sound.html">Sound()</a></p>
<p>Stops buzzer sound on supported hardware</p>
<p>Spi.Configuration()</p>
<p><a href="https://duelink.com/software/due-script/corelib/spi.html">SpiCfg()</a></p>
<p>Configures SPI bus</p>
<p>Spi.Palette()</p>
<p><a href="https://duelink.com/software/due-script/corelib/spi.html">Palette()</a></p>
<p>Sets the desired color for a palette</p>
<p>Spi.Read()</p>
<p><a href="https://duelink.com/software/due-script/corelib/spi.html">SpiByte()</a></p>
<p>Reads SPI byte</p>
<p>Spi.Write()</p>
<p><a href="https://duelink.com/software/due-script/corelib/spi.html">SpiByte()</a></p>
<p>Sends SPI byte</p>
<p>Spi.Write4bpp()</p>
<p><a href="https://duelink.com/software/due-script/corelib/spi.html">Spi4Bpp()</a></p>
<p>Streams and converts data from 4BPP to 16BPP</p>
<p>Spi.WriteRead()</p>
<p><a href="https://duelink.com/software/due-script/corelib/spi.html">SpiStream()</a></p>
<p>Write &amp; Read SPI bytes</p>
<p>System.Beep()</p>
<p><a href="https://duelink.com/software/due-script/corelib/beep.html">Beep()</a></p>
<p>Uses any pin to generate a tone</p>
<p>System.GetTickMicroseconds()</p>
<p><a href="https://duelink.com/software/due-script/corelib/systemfunctions.html">TickUs()</a></p>
<p>Returns system time in microseconds</p>
<p>System.GetTickMilliseconds()</p>
<p><a href="https://duelink.com/software/due-script/corelib/systemfunctions.html">TickMs()</a></p>
<p>Returns system time in milliseconds</p>
<p>System.Reset()</p>
<p><a href="https://duelink.com/software/due-script/corelib/systemfunctions.html">Reset()</a></p>
<p>Resets the board</p>
<p>Touch.Read()</p>
<p><a href="https://duelink.com/software/due-script/corelib/touch.html">TouchRead()</a></p>
<p>Initialize a pin for touch</p>
<p>Uart.BytesToRead()</p>
<p><a href="https://duelink.com/software/due-script/corelib/uart.html">UartCount()</a></p>
<p>How many bytes buffered and ready to read</p>
<p>Uart.Enable()</p>
<p><a href="https://duelink.com/software/due-script/corelib/uart.html">UartInit()</a></p>
<p>Initialize UART</p>
<p>Uart.Read()</p>
<p><a href="https://duelink.com/software/due-script/corelib/uart.html">UartRead()</a></p>
<p>Read UART data</p>
<p>Uart.Write()</p>
<p><a href="https://duelink.com/software/due-script/corelib/uart.html">UartWrite()</a></p>
<p>Write UART data</p>
<p>Version()</p>
<p><a href="https://duelink.com/software/due-script/corelib/systemfunctions.html">Version()</a></p>
<p>Returns the current DUE firmware version</p>
<h5 id="note-1">Note</h5>
<p>For convenience, the Pin Enum includes, ButtonA, ButtonB and Led. For example: <code>dev.Digital.Write(dev.Pin.Led, True)</code></p>
<h2 id="due-script-control"><a href="#due-script-control"></a>DUE Script Control</h2>
<p>These methods allow developers to control DUE Scripts right from within JS</p>
<p>Method</p>
<p>Description</p>
<p>Script.Execute()</p>
<p>Executes the single line of code immediately</p>
<p>Script.IsRunning()</p>
<p>Checks if DUE Script is running</p>
<p>Script.Load()</p>
<p>Loads the line into internal buffer</p>
<p>Script.New()</p>
<p>Clears the program stored in flash</p>
<p>Script.Read()</p>
<p>Read the program stored in flash and return as string</p>
<p>Script.Record()</p>
<p>Sends the internal buffer to the device, overwriting any previous programs</p>
<p>Script.Run()</p>
<p>Runs the program stored in flash</p>
<p>This example will load a simple program line by line and then record it.</p>
<pre><code>dev.Script.Load(&quot;c = 10&quot;)
dev.Script.Load(&quot;@Blink&quot;);
dev.Script.Load(&quot;Led(100,100,c)&quot;)
dev.Script.Record()
</code></pre>
<p>This is an example to execute a single line(immediate mode). This does not modify the application stored in flash.</p>
<pre><code>dev.Script.Execute(&quot;LED(200,200,10)&quot;)
</code></pre>
<p>You can also access a previously recorder program using goto (to label) or by calling a function that has a return. This example calls the recorded program above.</p>
<pre><code>dev.Script.Execute(&quot;c=5:goto Blink&quot;)
</code></pre>
<p>This website example shows a good example JavaScript DUE extensibility.
<a href="https://demo.duelink.com/">demo.duelink.com</a></p>
<p>More examples can be found on the DUE samples repo:</p>
<p><a href="https://github.com/ghi-electronics/due-samples/tree/main/Demo/Javascript"><strong>GitHub Samples Repo</strong></a></p>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/ghi-electronics/duelink-website/blob/dev/software/coding-options/javascriptOld.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      <span>Copyright © 2023 GHI Electronics, LLC<br>Generated by DocFX</span>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
